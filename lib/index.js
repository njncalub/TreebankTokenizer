var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var N=o=>t(o,"__esModule",{value:!0});var u=(o,e)=>{for(var r in e)t(o,r,{get:e[r],enumerable:!0})},E=(o,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of T(e))!b.call(o,n)&&(r||n!=="default")&&t(o,n,{get:()=>e[n],enumerable:!(s=p(e,n))||s.enumerable});return o};var R=(o=>(e,r)=>o&&o.get(e)||(r=E(N({}),e,1),o&&o.set(e,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var O={};u(O,{default:()=>a});function l(o,e){let r=0,s=[],n;for(let i of o){if(n=e.indexOf(i,r),n===-1)throw Error(`substring ${i} not found in "${e}"`);r=n+i.length,s.push([n,r])}return s}var g=class{constructor(){this.CONTRACTIONS2=[/\b(can)(not)\b/,/\b(d)('ye)\b/,/\b(gim)(me)\b/,/\b(gon)(na)\b/,/\b(got)(ta)\b/,/\b(lem)(me)\b/,/\b(more)('n)\b/,/\b(wan)(na)(?=s)/];this.CONTRACTIONS3=[/ ('t)(is)\b/,/ ('t)(was)\b/];this.CONTRACTIONS4=[/\b(whad)(dd)(ya)\b/,/\b(wha)(t)(cha)\b/]}},a=class{constructor(){this.STARTING_QUOTES=[[/^\"/,"``"],[/(``)/," $1 "],[/([ \(\[{<])(\"|\'{2})/,"$1 `` "]];this.PUNCTUATION=[[/([:,])([^\d])/g," $1 $2"],[/([:,])$/g," $1 "],[/\.\.\./g," ... "],[/([;@#$%&])/g," $1 "],[/([^\.])(\.)([\]\)}>\"\']*)\s*$/,"$1 $2$3 "],[/([?!])/g," $1 "],[/([^'])' /g,"$1 ' "]];this.PARENS_BRACKETS=[/([\]\[\(\){}<>])/g," $1 "];this.CONVERT_PARENTHESES=[[/\(/,"-LRB-"],[/\)/,"-RRB-"],[/\[/,"-LSB-"],[/\]/,"-RSB-"],[/{/,"-LCB-"],[/}/,"-RCB-"]];this.DOUBLE_DASHES=[/--/," -- "];this.ENDING_QUOTES=[[/''/," '' "],[/\"/," '' "],[/([^' ])('[sS]|'[mM]|'[dD]|') /,"$1 $2 "],[/([^' ])('ll|'LL|'re|'RE|'ve|'VE|n't|N'T) /,"$1 $2 "]];this._contractions=new g;this.CONTRACTIONS2=this._contractions.CONTRACTIONS2.map(e=>new RegExp(e,"i"));this.CONTRACTIONS3=this._contractions.CONTRACTIONS3.map(e=>new RegExp(e,"i"))}tokenize(e,r=!1){for(let i of this.STARTING_QUOTES){var[s,n]=[...i];e=e.replace(s,n)}for(let i of this.PUNCTUATION){var[s,n]=[...i];e=e.replace(s,n)}var[s,n]=[...this.PARENS_BRACKETS];if(e=e.replace(s,n),r)for(let i of this.CONVERT_PARENTHESES){var[s,n]=[...i];e=e.replace(s,n)}var[s,n]=[...this.DOUBLE_DASHES];e=e.replace(s,n),e=" "+e+" ";for(let i of this.ENDING_QUOTES){var[s,n]=[...i];e=e.replace(s,n)}for(let i of this.CONTRACTIONS2)e=e.replace(i," $1 $2 ");for(let i of this.CONTRACTIONS3)e=e.replace(i," $1 $2 ");return e.trim().split(/\s+/)}span_tokenize(e){let r=this.tokenize(e),s;if(e.includes('"')||e.includes("''")){let n=[...e.matchAll(/``|'{2}|\"/g)].map(i=>i[0]);s=r.map(i=>['"',"``","''"].indexOf(i)!==-1?n.splice(0,1)[0]:i)}else s=r;return l(s,e)}tokenize_sents(e){return e.map(r=>this.tokenize(r))}*span_tokenize_sents(e){for(let r of e)yield this.span_tokenize(r)}};module.exports=R(O);0&&(module.exports={});
//# sourceMappingURL=index.js.map
